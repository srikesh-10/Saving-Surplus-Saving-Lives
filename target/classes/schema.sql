DROP TABLE IF EXISTS donations;
DROP TABLE IF EXISTS users;

CREATE TABLE users (
    id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    address VARCHAR(255),
    current_latitude DOUBLE,
    current_longitude DOUBLE,
    email VARCHAR(255) NOT NULL UNIQUE,
    latitude DOUBLE NOT NULL,
    longitude DOUBLE NOT NULL,
    max_distance DOUBLE,
    name VARCHAR(255) NOT NULL,
    password VARCHAR(255) NOT NULL,
    people_helped INTEGER,
    phone VARCHAR(255),
    total_deliveries INTEGER,
    user_type VARCHAR(255) NOT NULL
);

CREATE TABLE donations (
    id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    donor_id INTEGER NOT NULL,
    latitude DOUBLE NOT NULL,
    longitude DOUBLE NOT NULL,
    quantity INTEGER NOT NULL,
    volunteer_id INTEGER,
    accepted_at TIMESTAMP,
    completed_at TIMESTAMP,
    created_at TIMESTAMP,
    expiry_date TIMESTAMP NOT NULL,
    description VARCHAR(255),
    food_type VARCHAR(255) NOT NULL,
    pickup_address VARCHAR(255) NOT NULL,
    status VARCHAR(255)
);